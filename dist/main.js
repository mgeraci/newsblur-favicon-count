!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e,n){const r=[],a=t<e,o=n?a?e+1:e-1:e;for(let e=t;a?e<o:e>o;a?e++:e--)r.push(e);return r}n.r(e);const a={0:[[0,0,1,1,1,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,0,1,1,1,1,0,0]],1:[[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,1,1,1,0,0,0],[0,1,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,1,1,1,1,1,1,1]],2:[[0,1,1,1,1,0,0,0],[1,0,0,0,0,1,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0],[0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,0],[0,0,1,0,0,0,0,0],[0,1,0,0,0,0,0,0],[1,1,1,1,1,1,1,1]],3:[[0,1,1,1,1,1,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0],[0,0,0,1,1,1,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0],[0,1,1,1,1,1,0,0]],4:[[0,0,0,0,0,1,0,0],[0,0,0,0,1,1,0,0],[0,0,0,1,0,1,0,0],[0,0,1,0,0,1,0,0],[0,1,0,0,0,1,0,0],[1,0,0,0,0,1,0,0],[1,0,0,0,0,1,0,0],[1,1,1,1,1,1,1,1],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0]],5:[[0,1,1,1,1,1,1,1],[0,1,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[1,0,0,0,0,0,1,0],[0,1,1,1,1,1,0,0]],6:[[0,0,0,1,1,1,1,0],[0,0,1,0,0,0,0,0],[0,1,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[1,0,1,1,1,1,0,0],[1,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,0,1,1,1,1,0,0]],7:[[1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,1,0,0,0,0,0,0]],8:[[0,0,1,1,1,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,0,1,1,1,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,0,1,1,1,1,0,0]],9:[[0,0,1,1,1,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,1],[0,0,1,1,1,1,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0],[0,1,1,1,1,0,0,0]],"+":[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,1,1,1,1,1,1,1],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]};e.default=class{constructor(){const t=this.getFavicon();t&&(this.faviconImage=t.getAttribute("href"),[this.head]=document.getElementsByTagName("head"))}render(t){null!=t?this.drawCountOnCanvas(t,t=>{this.addIconToDom(t.toDataURL("image/png"))}):this.getFaviconCanvas(t=>{this.addIconToDom(t.toDataURL("image/png"))})}getFavicon(){var t;return(t=document.getElementsByTagName("link"),[].slice.call(t)).filter(t=>t.getAttribute("rel").includes("icon")).sort((t,e)=>{const n=t.getAttribute("sizes")?parseInt(t.getAttribute("sizes").split("x")[0],10):0,r=e.getAttribute("sizes")?parseInt(e.getAttribute("sizes").split("x")[0],10):0;return 32===n?-1:32===r?1:r-n})[0]}getFaviconCanvas(t){if(this.faviconCanvas)t(this.faviconCanvas);else{this.faviconCanvas=document.createElement("canvas"),this.faviconCanvas.width=32,this.faviconCanvas.height=32;const e=this.faviconCanvas.getContext("2d"),n=new Image;n.crossOrigin="anonymous",n.addEventListener("load",()=>{e.drawImage(n,0,0,32,32),t(this.faviconCanvas)},!0),n.src=this.faviconImage}}drawCountOnCanvas(t,e){const n=t>99?"99+":t;if(this.drawnCanvases||(this.drawnCanvases={}),this.drawnCanvases[n])return void e(this.drawnCanvases[n]);const r=String(n).length;this.getFaviconCanvas(t=>{const o=document.createElement("canvas");o.height=t.width,o.width=t.width;const i=o.getContext("2d");i.drawImage(t,0,0),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(i.strokeStyle="rgba(28, 27, 33, 0.6)",i.fillStyle="#FFF"):(i.strokeStyle="rgba(255, 255, 255, 0.6)",i.fillStyle="#000");const s=.0625*t.width,c=t.height-a[0].length-s,l=a[0][0].length*r+2*(r-1);let u=t.width-l-1;u<0&&(u=0),this.drawCharacters({characters:n,fn:(t,e)=>{i.strokeRect(t+u-2,e+c-2,6,6)}}),this.drawCharacters({characters:n,fn:(t,e)=>{i.fillRect(t+u,e+c,2,2)}}),this.drawnCanvases[n]=o,e(o)})}drawCharacters({characters:t,fn:e}){let n,o,i,s,c=0;r(0,String(t).length).forEach((l,u)=>{n=String(t)[u],a[n]&&(o=a[n],i=o.length,s=o[0].length,c=s*u+2*u,r(0,i).forEach(t=>{r(0,s).forEach(n=>{o[t][n]&&e(n+c,t)})}))})}addIconToDom(t){const e=this.head.getElementsByTagName("link");[].slice.call(e).forEach(t=>{"shortcut icon"!==t.rel&&"icon"!==t.rel||this.head.removeChild(t)});const n=document.createElement("link");n.type="image/png",n.rel="shortcut icon",n.href=t,this.head.appendChild(n);const r=document.createElement("iframe");r.width=0,r.height=0,document.body.appendChild(r),r.src="icon",document.body.removeChild(r)}}}])},function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r);class o{constructor(){this.timer=setInterval(this.poll.bind(this),500),this.faviconCount=new a.a,this.poll()}poll(){const t=this.getUnreadCount();this.faviconCount.render(t)}getUnreadCount(){const t=document.title.match(/\((.*)\)/);return!!t&&t[1]}}new o}]);